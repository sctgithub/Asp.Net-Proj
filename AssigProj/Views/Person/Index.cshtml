@model IEnumerable<AssigProj.Models.Person>

@{
    ViewBag.Title = "People List";
}

@*<h2>Index</h2>*@
<br />

@*<div class="container">
        <div class="form-group">
            <div class="input-group">
                <span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span>
                <input type="text" id="search" placeholder="Search here" class="form-control" />
            </div>
        </div>
    </div>
<br />*@

@using (Html.BeginForm("Index", "Person", FormMethod.Post))
{
    @Html.AntiForgeryToken()
    <div class="container">
        <div class="form-group">
            <b> Search Option: </b>
            @Html.RadioButton("option", "Name") @Html.Label("Name")
            @Html.RadioButton("option", "Phone") @Html.Label("Phone")
            @Html.RadioButton("option", "Email") @Html.Label("Email")
            @Html.TextBox("search", null, new { htmlAttributes = new { @class = "form-control" } })
            <input type="submit" name="submit" value="Search" />
        </div>
    </div>
}

    <div class="container">
        <div class="form-group">
            @Html.ActionLink("Create New Person", "Create")
        </div>
        <div class="form-group">
            <table class="table">
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.Name)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.DOB)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Email)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Phone)
                    </th>
                    <th></th>
                </tr>

                @foreach (var item in Model)
                {
                    <tr class="search">
                        <td>
                            @Html.DisplayFor(modelItem => item.Name)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.DOB)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Email)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Phone)
                        </td>
                        <td>
                            @Html.ActionLink("Edit", "Edit", new { id = item.PersonId }) |
                            @Html.ActionLink("Details", "Details", new { id = item.PersonId }) |
                            @Html.ActionLink("Delete", "Delete", new { id = item.PersonId })
                        </td>
                    </tr>
                }

            </table>
        
        </div>
    </div>

@*<script src="~/Scripts/jquery-1.10.2.min.js"></script>
    <script>
        $(document).ready(function () {
            function Contains(text_one, text_two) {
                if (text_one.indexOf(text_two) != -1) {
                    return true;
                }
            }
            $("#search").keyup(function () {
                var searchText = $("#search").val().toLowerCase();
                $(".search").each(function () {
                    if (!Contains($(this).text().toLowerCase(), searchText)) {
                        $(this).hide();
                    } else {
                        $(this).show();
                    }
                });
            });
});</script>*@
